<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>생산계획 관리 시스템</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <!-- 헤더 영역 -->
        <header class="header">
            <h1>🏭 생산계획 관리 시스템</h1>
            <div class="status-indicator" id="connectionStatus">
                <span class="status status--info">연결 상태: 미연결</span>
            </div>
        </header>

        <!-- GitHub 설정 모달 -->
        <div id="githubModal" class="modal">
            <div class="modal-content card">
                <div class="modal-header">
                    <h3>GitHub 저장소 연결</h3>
                </div>
                <div class="modal-body">
                    <div class="form-group">
                        <label class="form-label" for="githubToken">Personal Access Token</label>
                        <input type="password" id="githubToken" class="form-control" placeholder="ghp_xxxxxxxxxxxxxxxxxxxx">
                        <small class="form-text">GitHub > Settings > Developer settings > Personal access tokens에서 생성</small>
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="githubRepo">저장소 (owner/repo)</label>
                        <input type="text" id="githubRepo" class="form-control" placeholder="username/repository-name">
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn--secondary" id="skipGithub">나중에 설정</button>
                    <button type="button" class="btn btn--primary" id="connectGithub">연결</button>
                </div>
            </div>
        </div>

        <!-- 삭제 확인 모달 -->
        <div id="deleteModal" class="modal">
            <div class="modal-content card">
                <div class="modal-header">
                    <h3>⚠️ 삭제 확인</h3>
                </div>
                <div class="modal-body">
                    <p id="deleteMessage">이 생산계획을 삭제하시겠습니까?</p>
                    <div class="keyboard-hint">
                        <small>키보드: Space/Enter (삭제), ESC (취소)</small>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn--secondary" id="cancelDelete">취소</button>
                    <button type="button" class="btn btn--error" id="confirmDelete">삭제</button>
                </div>
            </div>
        </div>

        <!-- 메인 콘텐츠 -->
        <main class="main-content">
            <!-- 계획 등록 폼 -->
            <section class="form-section">
                <div class="card">
                    <div class="card__header">
                        <h2>📝 새 생산계획 등록</h2>
                    </div>
                    <div class="card__body">
                        <form id="planForm" class="plan-form">
                            <div class="form-row">
                                <div class="form-group">
                                    <label class="form-label" for="customer">고객사</label>
                                    <input type="text" id="customer" class="form-control" required>
                                </div>
                                <div class="form-group">
                                    <label class="form-label" for="productId">제조번호</label>
                                    <input type="text" id="productId" class="form-control" required>
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label class="form-label" for="productName">제품명</label>
                                    <input type="text" id="productName" class="form-control" required>
                                </div>
                                <div class="form-group">
                                    <label class="form-label" for="quantity">수주량 (EA)</label>
                                    <input type="text" id="quantity" class="form-control" placeholder="1,000,000" required>
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label class="form-label" for="processLine">공정라인</label>
                                    <select id="processLine" class="form-control" required>
                                        <option value="">선택하세요</option>
                                        <option value="PTP1">PTP1</option>
                                        <option value="PTP2">PTP2</option>
                                        <option value="분말스틱1">분말스틱1</option>
                                        <option value="분말스틱2">분말스틱2</option>
                                        <option value="분말스틱3">분말스틱3</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label class="form-label" for="startDate">시작일</label>
                                    <input type="date" id="startDate" class="form-control" required>
                                </div>
                                <div class="form-group">
                                    <label class="form-label" for="endDate">완료일</label>
                                    <input type="date" id="endDate" class="form-control" required>
                                </div>
                            </div>
                            <button type="submit" class="btn btn--primary btn--full-width">
                                <span id="submitText">📋 계획 등록</span>
                            </button>
                        </form>
                    </div>
                </div>
            </section>

            <!-- 달력 간트차트 -->
            <section class="calendar-section">
                <div class="card">
                    <div class="card__header">
                        <div class="calendar-header">
                            <h2>📅 생산계획 달력</h2>
                            <div class="calendar-nav">
                                <button class="btn btn--secondary btn--sm" id="prevMonth">◀ 이전</button>
                                <span id="currentMonth" class="current-month">2025년 6월</span>
                                <button class="btn btn--secondary btn--sm" id="nextMonth">다음 ▶</button>
                            </div>
                        </div>
                    </div>
                    <div class="card__body">
                        <div class="process-legend">
                            <div class="legend-item" data-process="PTP1">
                                <span class="legend-color" style="background-color: #6c63ff;"></span>
                                <span>PTP1</span>
                            </div>
                            <div class="legend-item" data-process="PTP2">
                                <span class="legend-color" style="background-color: #4CAF50;"></span>
                                <span>PTP2</span>
                            </div>
                            <div class="legend-item" data-process="분말스틱1">
                                <span class="legend-color" style="background-color: #FF9800;"></span>
                                <span>분말스틱1</span>
                            </div>
                            <div class="legend-item" data-process="분말스틱2">
                                <span class="legend-color" style="background-color: #E91E63;"></span>
                                <span>분말스틱2</span>
                            </div>
                            <div class="legend-item" data-process="분말스틱3">
                                <span class="legend-color" style="background-color: #9C27B0;"></span>
                                <span>분말스틱3</span>
                            </div>
                        </div>
                        <div id="calendar" class="calendar-grid"></div>
                    </div>
                </div>
            </section>

            <!-- 계획 목록 -->
            <section class="plans-section">
                <div class="card">
                    <div class="card__header">
                        <h2>📋 생산계획 목록</h2>
                        <span id="planCount" class="plan-count">총 0개</span>
                    </div>
                    <div class="card__body">
                        <div id="plansList" class="plans-list">
                            <div class="no-plans">
                                <p>등록된 생산계획이 없습니다.</p>
                                <p>위 폼을 통해 새 계획을 등록해보세요! 🚀</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- 툴팁 -->
    <div id="tooltip" class="tooltip"></div>

    <script src="app.js"></script>
</body>
</html>